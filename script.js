let missions = [
  "We wanted to build more than beautiful, shared office spaces. We wanted to build a community. A place you join as an individual, 'me', but where you become part of a greater 'we'. A place where we’re redefining success measured by personal fulfillment, not just the bottom line. Community is our catalyst.",
  "We do what we love and are connected to something greater than ourselves.",
  "We are creators, leaders, and self-starters. We try new things, we challenge convention, and we’re not afraid to fail.",
  "We are genuine to our brand, mission, and values. We're not perfect, and we don't pretend to be. We are always honest and as transparent as we can be.",
  "We never settle. We get shit done and we get it done well. Be persistent and knock down walls–literally if you have to. You have our permission.",
  "We are grateful for each other, our members, and to be part of this movement. We don't take success for granted. We’re happy to be alive.",
  "We are in this together. This is a team effort. We always look out for one another. We have empathy, we know we're all human, and know we can’t do any of this alone.",
  "A growing community of women across the country and globe, gathering together to work, connect, and thrive.",
  "A community that fosters connection of all kinds: friendship, support circles, professional mentoring, networking, and bonding over shared experience. Here, you can find everyone from your next business partner to an enthusiastic running buddy.",
  "This co-working space offers room to take up space, allowing for serendipitous connections around communal tables, while trading tips in the beauty room, or grabbing lunch at The Perch cafe. It’s a homebase where you land with a friend before dinner, meet for a quick catch-up, or spend hours plotting with your cofounder.",
  "This co-working space can be a personal office, a collaborative workspace, an incubator for your business, or all of the above. Phone booths, conference rooms, and amenities like showers and a pump room for working mothers set us apart from the rest.",
  "We’ve designed our spaces with women’s needs in mind. Every space is home to phone booths for calls, bookable conference rooms, and an in-house cafe serving seasonal meals and snacks for your next power lunch.",
  "A coworking and shared office space featuring an array of amenities designed to help people feel good while working to make their businesses thrive. Seamlessly combining wellness and performance to create opportunity for success, Primary knows you work best when you feel great.",
  "Come to refocus, re-energize and reinvigorate your workday! It's your all-in-one oasis for fitness, yoga, meditation and so much more. In addition to luxurious locker rooms with showers and towel service, enjoy the amenities of our full-service cafe where you can find coffee, fresh juice blends and healthy snacks.",
  "In the farmlands of Southern Missouri, we discovered a century-old barn waiting for a second life. We carefully transported that barn piece-by-piece to New York City. Now it’s home to a community of innovators and entrepreneurs. The Farm was built by hand (literally, by our own hands) and crafted with a love for nature and organic design. Because work doesn’t have to feel like work. Come visit our spaces that are infused with the energy of the community who has come to call the farm their new home.",
  "A private workspace and cultural home for creators, innovators and thought-leaders. Designed to inspire the creative mindset, cultivate curiosity, and provoke new ways of thinking, we have curated a community of original thinkers at the leading intersection of contemporary culture and commerce.",
  "A platform for discourse and discovery to advance ideas and conversations, creating powerful shared experiences.",
  "Gracious, relaxed but always efficient and anticipatory, with imaginative Food & Beverage as the centerpiece for community.",
  "Designed to feel like the warmth of home, foster new connections and set the stage for cultural experiences.",
  "We provide affordable, environmentally friendly, turn key office suites available for month-to-month or long term rental.",
  "For those who don’t need a full office to themselves, or might need a little extra, we also offer virtual offices and meeting rooms in our beautifully unique buildings.",
  "We are a collaborative workspace and community designed to support and connect the next generation of media and tech entrepreneurs, innovators, and artists with industry resources, events, mentorship, and educational opportunities.",
  "Magic happens when different groups come together under one roof. New paradigms and platforms emerge as storytellers and entrepreneurs work together to transform the creative process in the digital age.",
  "A Brooklyn-based coworking community and the work home to 35 creatives — designers, filmmakers, writers, illustrators, developers, photographers, and people doing generally awesome (creative) work.",
  "We live in a beautiful open space with exposed brick, old wooden floors, and windows galore. The space includes a lounge area, full kitchen, phone booths, a conference room, lunch tables, whiteboards, and 30 work stations.",
  "We hope to find people who are curious, take their side projects seriously, and who believe that collaborating is good for the soul. We love individuals who love what they do and continuously strive to grow and get better. We appreciate people who love the internet as much as we do. We want doers and kind souls.",
  "We believe that places of work should inspire, that an office can be a work of art, and that the right people, brought together in the right place, can accomplish wonders.",
  "Create beautiful environments.",
  "We build the spaces that inspire, designed by award-winning individuals with a passion to create beauty and function.",
  "Through facilities, amenities, programs and more, we empower our members to achieve their dreams.",
  "We strive to ensure our members succeed in their personal endeavors, measuring our success in terms of theirs.",
  "Your membership is all-inclusive, providing amenities designed to allow you to focus on your business instead of logistics.",
  "This has a unique culture that fosters creativity and inspiration by bringing together dedicated entrepreneurs committed to their own business success as well as celebrating the achievements of the larger community.    Community The combination of both the physical space and our members themselves creates a supportive, driven and creative community unique to each neighborhood and bursting with undeniable entrepreneurial spirit.",
  "Each location is a living space with rotating art exhibits, interesting venues and space infused with a unique personality that is constantly adapting to address the needs of the community, while inspiring and creating connections between members.",
  "An honest day's work begins here.",
  "This was founded with the mission to rethink what a co-working space should be: a mindfully-designed, collaborative environment for creative entrepreneurs, freelancers, and small businesses.",
  "Where form meets function.",
  "Our interior demonstrates practicality, functionality and sophistication, lending itself to various event and meeting needs. Available venues range in size from small meeting rooms to large event spaces, all equipped with state-of-the-art technology and service.",
  "Love coming to work.",
  "Workplace experiences that help teams of all sizes transform ideas into action, with the flexibility to scale on their own terms.",
  "Where teams come to thrive.",
  "Whether you’re just starting out, growing your business, or entering new markets, our thoughtfully-designed spaces and hospitality-driven workplace experiences bring out the best in your teams. Our flexible lease terms and national network help you grow on your own terms.",
  "We know that startups can change the world and we’re building the global community to provide the intellectual, social, and financial capital to help them make that a reality.",
  "We’ve purposely chosen challenging, government-dominated markets because our roots in Washington, DC give us proprietary connections, insights, and tools that can be used to drive massive scale revenue growth. The key to it all is connections and learning.",
  "We connect our startups to the latest wisdom on how to build highly scalable businesses through our curriculum. To expert mentors who can help startups quickly solve problems. To markets through our institutional and corporate partners. To capital through our investor network. And to talent through our community relationships across the globe. Here are just a few different ways to join our global community",
  "Membership with benefits.",
  "Our workspaces were designed with you in mind. It is not only a space to be productive and get your work done but it is also a place to connect and meet people who will enhance your life not only professionally but personally. At our locations meet you next investor, cofounder, employee, friend, or even bae. Most importantly our workspaces are here for you to be successful.",
  "Let our coworking spaces inspire you to achieve greatness. Alley members value collaboration, connectivity, and the power of our community. Our office locations are designed to foster these values and help you grow your business, pursue your creative projects, and concentrate in a creative workspace, surrounded by our unique community.",
  "A curated community of some of the smartest, most creative people in NYC with a passion for living well. Your home away from home. We're based out of a massive 3500 sq. ft. loft near Union Square, which acts as a place to work, hang out, meditate, hold events, and meet like-minded people.",
  "Our community is built around 3 core beliefs: People thrive in close-knit, supportive communities. Life is about more than just career success. It's important to care for the whole self. People are happier and make better decisions when they connect with themselves through mindfulness and self-reflection.",
  "It's simple: We provide a quiet, productive atmosphere, and the community takes care of itself. You'll be surprised just how much you'll get done and who you may meet in the process.",
  "If you're looking for a community of well-rounded people who are doing interesting work (including entrepreneurs, developers, designers, artists, and academics), then Balanced NYC may be the right place for you, and we encourage you to apply below.",
  "A leading luxury workspace provider located on Madison Avenue in NoMad New York City. Our space was thoughtfully designed by our friends and partner Parts And Labor Design, an award-winning hospitality design architecture firm.",
  "Being a writer in New York City is challenging but finding a quiet place to work can be even harder. Founded fifteen years ago to provide an affordable sanctuary where writers can turn off their phones, ignore the dishes in the sink, and do the hard work of writing. The communal lounge and kitchen provide a place to take a break from the writing and chat with other members about work and life. BWS has served over 1800 writers who have published countless articles, books, dissertations, poems, stage and screen plays.",
  "We offer customized shared office space, private offices, coworking, virtual offices, enterprise suites and meeting rooms with expanded lounge areas and engaged business communities. Join us! Your passion is building your business, and our passion is building communities. We support the people who are working hard to make their ideas real. We provide coworking spaces and private offices for entrepreneurs and their teams.",
  "Our bread and butter is to be a productive workspace for YOU. Events stay in event areas so you can focus when you want, and network when you want.",
  "Collaboration is a core part of Coalition Space. Our spaces and events are built to make it easier for entrepreneurs to meet and bounce ideas off of each other.",
  "We host regular events so that you can get even more out of us. We’re proudly a MicroOffice company, so you also get access to the business network they’ve built since 2002.",
  "This is a place where new and exciting ideas are created, explored and experienced. This is a place for immersive theatre, unconventional theatre, dining experiences, street games, board games and everything else in between. If you enjoy the unusual and unexpected, you have come to right place. The accumulation of the most forward thinking immersive theatre makers.",
  "Together we will strive to create the first ever home for immersive theatre. Using the ethos of colab, we will endeavour to make the best immersive theatre possible. we want to transport audiences into completely different worlds. We want this to be a wondrous place that's full of many different experiences. We already create new and exciting theatre but with this venue we can continue to create innovative work and be able to call the premises the first home of immersive theatre. Together we will create the first theatre devoted to the immersive experience. a venue that has a place on the map.",
  "Located in the nation’s largest tech hubs, our beautiful campuses will serve as your company’s home base. From state-of-the-art conference rooms, private phone booths and on campus restaurants, we’ve got your day-to-day needs covered. Whether you’re interested in our spacious community workspaces, want a reserved desk to call your own or need a private suite, Galvanize has resources for individuals, startups and established companies alike.",
  "With partners like Google for Startups, IBM, Amazon Web Services and Silicon Valley Bank, we offer access to powerful resources when and where you need them. Also, our targeted member workshops help you develop the skills and knowledge needed to grow and scale your company. Learn more about our partnerships.",
  "As a member, you’ll connect with industry experts in a variety of fields with diverse viewpoints and backgrounds. Weekly office hours and personalized mentorship will allow you to interact with creators, innovators and leaders whose experience and skills align with your own.",
  "A movement experimentation laboratory and life enhancer, playing at the intersection of yoga studio and community haven. We are a small and select team of phenomenal movement instructors and a veritable army of curious, intelligent students (you're next!). We are feminist, existentialist; we're down to recreate and we're looking for inquiry and exploration in movement. Exhilarating, ass-kicking, straight-up great yoga classes in a light-and-music-filled space. Room to feed your brain in a permissive environment.",
  "Working side by side, in the midst of community.  A shared office space for freelancers. We’ve created a place where anyone who would normally work from home or a coffee shop can work alongside one another in a quiet, focused, communal environment. This is a space for anyone, of any or no faith, looking for a more spiritually connected way to live and work.",
  "Being a creative professional or working remotely no longer means working from home. With access to every location, you're free from the monotony of working in the same neighborhood or space day after day.Working for a startup often means working for a company without an office. With a membership, you can focus, get work done, and hold meetings at any of our locations in your city.Office - GoersYou may have a desk in an office, but work still keeps you on the move. Membership gives you access to places to get work done between meetings or use as an alternative to working from home.",
  "The combination of a well-designed work environment and a well-organized work experience are part of the reason why clients seem to love our spaces. We give our clients the space and support to be their authentic best selves. Unlike our competitors, we provide our clients with our 5 star business addresses to register their business, a receptionist to answer calls in their company name, and a landline number totally provisioned by us – all in a sophisticated shared space with great views saturated in natural light.",
  "We also provide access to a team of bilingual secretaries, ample meeting space easily bookable via an app, and color printing from any desk. The quality services and digital advantages we give to our clients ensure they can focus on growing their revenue. If our clients need IT assistance, they simply dial *1 on their handsets and a local IT expert will be right there to help. Happiness in business is simple IT solutions that work, a professional team to delegate to, and Community of like-minded Imagineeers to work with. Our clients are welcomed by our teams across 160 locations around the globe. You can’t beat."
];
const activities = ["write in a journal", "go out for coffee"];
const markovMissions = {};
const markovActivities = {};
const incompleteClause = [
  "of",
  "to",
  "and",
  "with",
  "from",
  "at",
  "the",
  "is",
  "are",
  "an",
  "a",
  "where",
  "when",
  "in",
  "on",
  "by",
  "can",
  "their",
  "her",
  "his",
  "who",
  "around",
  "for",
  "this",
  ",",
  "we"
];

window.onload = function() {
  markovChainGenerator(missions, markovMissions);
  markovChainGenerator(activities, markovActivities);
  generate();
};

// modified from https://medium.com/@alexkrameris/markov-chain-implementation-in-javascript-a698f371d66f
function markovChainGenerator(text, markovChain) {
  const textArr = [];

  text.forEach(el => {
    el.split(" ").forEach(word => {
      textArr.push(word);
    });
  });

  for (let i = 0; i < textArr.length; i++) {
    let word = textArr[i]; //.replace(/[\W_]/, "")
    if (!markovChain[word]) {
      markovChain[word] = [];
    }
    if (textArr[i + 1] && word.length > 0) {
      markovChain[word].push(textArr[i + 1]); //.replace(/[\W_]/, ""));
    }
  }
}

function getMarkovText(markovChain, maxNumberWords) {
  const words = Object.keys(markovChain);
  let word = words[Math.floor(Math.random() * words.length)];
  let result = "";
  for (let i = 0; i < maxNumberWords; i++) {
    result += word.charAt(0).toUpperCase() + word.slice(1).toLowerCase() + " ";
    var newWord =
      markovChain[word][Math.floor(Math.random() * markovChain[word].length)];
    word = newWord;
    if (!word || !markovChain.hasOwnProperty(word))
      word = words[Math.floor(Math.random() * words.length)];

    if (incompleteClause.indexOf(newWord) > -1) {
      i -= 2;
    }
  }

  return result;
}

function generate() {
  document.getElementById("id-mission").innerText = getMarkovText(
    markovMissions,
    12
  );
  document.getElementById("id-activity").innerText =
    "Come and " + getMarkovText(markovActivities, 1);
}
